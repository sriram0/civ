<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CiviliZation - Version 2</title>
    <style>
        body{
            background-color: lightgreen;
            color:blue;
            text-align: center;
        }
        h1{
            font-size: 5em;
        }#b{
            color:black;
        }.d{
            color:grey;
            background-color: aqua;
            padding: 10px;
            width: 40%;
            float:left;
            margin:2%;
            text-align: center;
        }h2{
            font-size: 2em;
            color:blue;
        }button{
            margin:5px;
            color:rgb(90, 163, 90);
            background-color: rgb(65, 65, 171);
        }
    </style>
</head>
<body>
    <h1>Civili<span id="b">Z</span>ation</h1>
    <div class="d">
        <h2>Resources</h2>
        Wood:<span id="w">50</span><br>
        Stone:<span id="s">50</span><br>
        Coal:<span id="c">0</span><br>
        Iron Ore:<span id="io">0</span><br>
        Iron Ingots:<span id="ii">0</span><br>
        Gold Ore:<span id="go">0</span><br>
        Gold Ingots:<span id="gi">0</span><br>
        Machine Parts:<span id="mp">0</span><br>
        Coins:<span id="co">0</span><br>
        Water:<span id="wa">0</span><br>
        Fuel:<span id="fu">0</span><br>
        Oil:<span id="o">0</span><br>
        Steel:<span id="st">0</span><br>
    </div>
    <div class="d">
        <h2>Buildings</h2>
        Logger:<span id="l">0</span><button onclick="build('l')">Build for 12 wood</button><br>
        Quarry:<span id="q">0</span><button onclick="build('q')">Build for 8 wood and 4 stone</button><br>
        Furnace:<span id="f">0</span><button onclick="build('f')">Build for 12 stone</button><br>
        Machine Parts Factory:<span id="mpf">0</span><button onclick="build('mpf')">Build for 20 iron ingots and 5 gold ingots</button><br>
        Gold Cutter:<span id="gc">0</span><button onclick="build('gc')">Build for 25 gold ingots and 15 machine parts</button><br>
        Aquafire pumper:<span id="ap">0</span><button onclick="build('ap')">Build for 3 machine parts and 15 iron ingots</button><br>
        Fuel refinery:<span id="fr">0</span><button onclick="build('fr')">Build for 5 machine parts and 12 steel</button><br>
        Oil Miner:<span id="om">0</span><button onclick="build('om')">Build for 7 machine parts and 20 steel</button><br>
        Oil Export Truck:<span id="oet">0</span><button onclick="build('oet')">Build for 10 machine parts and 20 iron ingots</button><br>
        Forge:<span id="fo">0</span><button onclick="build('fo')">Build for 30 iron ingots</button><br>
    </div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    win = false
    function build(i){
        switch(i){
            case "l":
                if(Number($("#w").text())>=12){
                    $("#w").text(Number($("#w").text())-12)
                    $("#l").text(Number($("#l").text())+1)
                }
                break;
            case "q":
                if(Number($("#w").text())>=8 && Number($("#s").text())>=4){
                    $("#w").text(Number($("#w").text())-8)
                    $("#s").text(Number($("#s").text())-4)
                    $("#q").text(Number($("#q").text())+1)
                }
                break;
            case "f":
                if(Number($("#s").text())>=12){
                    $("#s").text(Number($("#s").text())-12)
                    $("#f").text(Number($("#f").text())+1)
                }
                break;
            case "mpf":
                if(Number($("#ii").text())>=20 && Number($("#gi").text())>=5){
                    $("#ii").text(Number($("#ii").text())-20)
                    $("#gi").text(Number($("#gi").text())-5)
                    $("#mpf").text(Number($("#mpf").text())+1)
                }
                break;
            case "gc":
                if(Number($("#gi").text())>=25 && Number($("#mp").text())>=15){
                    $("#mp").text(Number($("#mp").text())-15)
                    $("#gi").text(Number($("#gi").text())-25)
                    $("#gc").text(Number($("#gc").text())+1)
                }
                break;
            case "ap":
                if(Number($("#ii").text())>=15 && Number($("#mp").text())>=3){
                    $("#mp").text(Number($("#mp").text())-3)
                    $("#ii").text(Number($("#ii").text())-15)
                    $("#ap").text(Number($("#ap").text())+1)
                }
                break;
            case "fr":
                if(Number($("#st").text())>=12 && Number($("#mp").text())>=5){
                    $("#mp").text(Number($("#mp").text())-5)
                    $("#st").text(Number($("#st").text())-12)
                    $("#fr").text(Number($("#fr").text())+1)
                }
                break;
            case "om":
                if(Number($("#st").text())>=20 && Number($("#mp").text())>=7){
                    $("#mp").text(Number($("#mp").text())-7)
                    $("#st").text(Number($("#st").text())-20)
                    $("#om").text(Number($("#om").text())+1)
                }
                break;
            case "oet":
                if(Number($("#ii").text())>=20 && Number($("#mp").text())>=10){
                    $("#mp").text(Number($("#mp").text())-10)
                    $("#ii").text(Number($("#ii").text())-20)
                    $("#oet").text(Number($("#oet").text())+1)
                }
                break;
            case "fo":
                if(Number($("#ii").text())>=30){
                    $("#ii").text(Number($("#ii").text())-30)
                    $("#fo").text(Number($("#fo").text())+1)
                }
                break;
        }
    }
    setInterval(function(){
        var xe=Number($("#ii").text())
        for(var i=0;i<Number($("#mpf").text());i++){
            if(Number($("#ii").text())>2){
                $("#ii").text(Number($("#ii").text())-3)
                $("#mp").text(Number($("#mp").text())+1)
            }else{
                break;
            }
        }
        for(var i=0;i<Number($("#fr").text());i++){
            if(Number($("#wa").text())>0){
                $("#wa").text(Number($("#wa").text())-1)
                $("#fu").text(Number($("#fu").text())+1)
            }else{
                break;
            }
        }
        for(var i=0;i<Number($("#gc").text());i++){
            if(Number($("#gi").text())>2){
                $("#gi").text(Number($("#gi").text())-3)
                $("#co").text(Number($("#co").text())+15)
            }else{
                break;
            }
        }
        for(var i=0;i<Number($("#oet").text());i++){
            if(Number($("#fu").text())>1 && Number($("#o").text())>2){
                $("#o").text(Number($("#o").text())-3)
                $("#fu").text(Number($("#fu").text())-2)
                $("#co").text(Number($("#co").text())+20)
            }else{
                break;
            }
        }
        for(var i=0;i<Number($("#fo").text());i++){
            if(Number($("#ii").text())>2 && Number($("#gi").text())>0){
                $("#ii").text(Number($("#ii").text())-3)
                $("#gi").text(Number($("#gi").text())-1)
                $("#st").text(Number($("#st").text())+4)
            }else{
                break;
            }
        }
        y=Number($("#ii").text())
        for(var i=0;i<Number($("#f").text());i++){
            x=0
            if(Number($("#io").text())>2 && Number($("#c").text())>1){
                $("#io").text(Number($("#io").text())-3)
                $("#c").text(Number($("#c").text())-2)
                $("#ii").text(Number($("#ii").text())+3)
            }else{
                x++;
            }
            if(Number($("#go").text())>2 && Number($("#c").text())>1){
                $("#go").text(Number($("#go").text())-3)
                $("#c").text(Number($("#c").text())-2)
                $("#gi").text(Number($("#gi").text())+3)
            }else{
                x++;
            }
            if(x==2){
                break;
            }
            
        }
        $("#w").text(Number($("#w").text())+Number($("#l").text()))
        $("#s").text(Number($("#s").text())+Number($("#q").text()))
        $("#wa").text(Number($("#wa").text())+Number($("#ap").text()))
        $("#o").text(Number($("#o").text())+Number($("#om").text()))
        $("#c").text(Number($("#c").text())+Math.floor(Number($("#q").text())*Math.random()*1.3))
        $("#io").text(Number($("#io").text())+Math.floor(Number($("#q").text())*Math.random()*0.9))
        $("#go").text(Number($("#go").text())+Math.floor(Number($("#q").text())*Math.random()*0.6))
        if(Number($("#co").text())>=100000 && win==false){
            alert("You have won CiviliZation - Version 2")
            win=true
        }
        z=Number($("#ii").text())
        console.log(xe+" "+y+" "+z)
    }, 5000)
</script>
</html>
